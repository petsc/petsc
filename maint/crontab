# $Id: crontab,v 1.135 1999/06/11 16:59:14 balay Exp balay $ 
#
#  Crontab for PETSc 2.0 nightly build
#
# This file is run every night on 'soot.mcs.anl.gov'.
# Run "crontab crontab" to install the nightly build;
# use "crontab -r" to remove it.
# 
#  The timing between these runs IS not important.
#
1  23 * * * /usr/ucb/rsh soot /home/bsmith/petsc/maint/buildremotetest
1  23 * * * /bin/rm -f /home/bsmith/petsc/maint/nightlylogs/*.log
1  23 * * * /home/bsmith/petsc/maint/removelibs
#
##30  1 * * * /home/bsmith/petsc/maint/buildtest 1
30  1 * * * /home/bsmith/petsc/maint/buildtest 2
30  2 * * * /home/bsmith/petsc/maint/buildtest 3
30  1 * * * /home/bsmith/petsc/maint/buildtest 4
30  2 * * * /home/bsmith/petsc/maint/buildtest 5
##30  3 * * * /home/bsmith/petsc/maint/buildtest 6
30  1 * * * /home/bsmith/petsc/maint/buildtest 7
30  2 * * * /home/bsmith/petsc/maint/buildtest 8
30  2 * * * /home/bsmith/petsc/maint/buildtest 9
30  2 * * * /home/bsmith/petsc/maint/buildtest 10
30  1 * * * /home/bsmith/petsc/maint/buildtest 11
#
# Buildlinks on various machines
#
30 4 * * * /usr/ucb/rsh denali /home/bsmith/petsc/maint/buildlinks /sandbox/petsc/petsc
# 
#
#  Checks if all the nightly builds are complete and 
# sends mail to PETSc developers if there are hanging jobs
#
45  8 * * * /usr/ucb/rsh soot /home/bsmith/petsc/maint/checknightly
#
# Zap unfinished processes on soot
#
45 9 * * * /usr/ucb/rsh soot "zap tcsh petsc >& /home/bsmith/petsc/maint/nightlylogs/zap.log"
#
# Copy over www access log files for the past 24 hours
#
45 23 * * * /home/bsmith/petsc/maint/accesslogs/www/buildwwwlogs
#
# Backup the PETSc source dir
#
45 5 * * *  /usr/ucb/rsh soot /home/bsmith/petsc/maint/buildbackup
#
# Rebuild the fortran stubs - before the nightly builds are started.
#
01 22 * * * /usr/ucb/rsh fire "cd /home/bsmith/petsc; make allfortranstubs > /dev/null"
#
# rebuild Single Precision CSN code in src/mat/impls/csn/seq
10 22 * * * /usr/ucb/rsh soot "cd /home/bsmith/petsc/src/mat/impls/csn/seq; make single_precision > /dev/null"
#
# Stash away a copy of petsc.tar.gz every tuesday
#
45 5 * * 2 /usr/ucb/rcp /home/petsc/petsc.tar.gz mcshsm:~/userbackups/
#
# Recreate the indices on the PETSc web site once every sunday
#
# 45 5 * * 0 rsh maverick "cd /mcs/www-unix/petsc/petsc-index; /bin/rm -f index.log; build_index.cgi >& index.log; chmod g+w index.log"
#
# Rebuild the documentation every night
15 6 * * * /usr/ucb/rsh soot "cd /home/bsmith/petsc; make alldoc >& /home/bsmith/petsc/maint/nightlylogs/doc.log"
#
# send out reminder about Tuesday afternoon meeting
#
0 14 * * 1 /home/bsmith/petsc/maint/tuesdayreminder
45 12 * * 2 /home/bsmith/petsc/maint/tuesdayreminder
