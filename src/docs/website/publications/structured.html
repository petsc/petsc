<html>

<head>
<title>PETSc: Applications: Structured Mesh</title>
</head>

<body  bgcolor="#D5EAFF">

<table border="0" width="100%">
  <tr>
    <td width="25%" valign="top"><h1><font color="#FF0000" size="7">PETSc</font></h1>
    <ul>
      <li><a href="../documentation/exercises/index.html"><strong>Home</strong></a></li>
    </ul>
    </td>
    <td width="75%"><h1>Publications:&nbsp;Structured Mesh</h1>
    </td>
  </tr>
  <tr>
    <td width="100%" colspan="2"><hr size="4" color="#FF5B5B">
    </td>
  </tr>
  <tr>
    <td width="25%" valign="top"><ul>
      <li><a href="../download/index.html"><strong>Download</strong></a></li>
      <li><a href="../features/index.html"><strong>Features</strong></a></li>
      <li><a href="../documentation/index.html"><strong>Documentation</strong></a></li>
      <li><a href="index.html"><strong>Applications/Publications</strong></a><ul>
          <li><font size="3" color="#FF0000"><b>Structured Mesh</b></font></li>
          <li><a href="unstructured.html"><strong>Unstructured Mesh</strong></a></li>
        </ul>
      </li>
      <li><a href="../presentations/index.html"><strong>Publications and </strong></a><a href="../presentations/index.html"><strong>Presentations</strong></a></li>
      <li><a href="../miscellaneous/index.html"><strong>Miscellaneous</strong></a></li>
        <li><a href="../miscellaneous/external.html"><strong>External Software</strong></a></li>
        <li><a href="../developers/index.html"><strong>Developers Site</strong></a></li>

    </ul>
    </td>
    <td width="75%" valign="top"><h3 align="center"><a href="http://www.pe.utexas.edu/CPGE/new_generation"><b>Research in New Generation
    Framework for Petroleum Reservoir Simulation</b></a></h3>
    <p align="center"><em>PIs - Gary Pope, Todd Arbogast, Clint Dawson, Bill Gropp, Larry
    Lake, Daene McKinney, Tom Morgan, Kamy Spehrnoori, Barry Smith, and Mary Wheeler. </em></p>
    <p align="left">Joint with the Center for Subsurface Modeling and the Center for Petroleum
    and Geosystems Engineering at the University of Texas at Austin.This DOE funded research
    project focuses on the development of scalable approaches to petroleum reservoir
    simulations. Here <b>PETSc</b> provides some of the scalable linear solver technology. </p>
    <h3><strong>Performance Results</strong></h3>
    <p>We present sample results for an <font color="#ff0000">EOS compositional oil reservoir
    simulator</font> developed at UT Austin by Peng Wang and John Wheeler that uses the PETSc
    linear solvers. This problem uses a <font color="#ff0000">three-dimensional structured
    grid</font>, with cell-centered finite differences. There are eight degrees of freedom per
    cell, and the Jacobian is stored using the PETSc MPIBAIJ matrix format with a block size
    of four. The Backward Euler method with a truncated Newton solver is used for time
    evolution of the nonlinear system. The resulting linear systems are solved approximately
    using <font color="#ff0000">GMRES(30) with block Jacobi preconditioning using point-block
    ILU(0)</font> on each processor. These calculations were performed on a fixed
    (nonadaptive) grid. Results are given for experiments using an IBM SP (with Power 2 Super
    processors running at 160MHz and 2 memory cards; 4 memory cards gives about 30 percent
    better performance).&nbsp; In a representative run, the linear solver sustained <font color="#ff0000">83 megaflops</font> per processor.</p>
    <div align="center"><center><table border="1" width="49%">
<tbody>
      <tr>
        <td width="25%"><strong>Number of Unknowns</strong></td>
        <td width="17%"><strong>Processors</strong></td>
        <td width="15%"><strong>Time (Minutes)</strong></td>
        <td width="48%"><strong>Unknowns/Node/Minute</strong></td>
      </tr>
      <tr>
        <td align="middle" width="25%">512,000</td>
        <td align="middle" width="17%">4</td>
        <td align="middle" width="15%">10.6</td>
        <td align="middle" width="48%">12,075</td>
      </tr>
      <tr>
        <td align="middle" width="25%">&nbsp;</td>
        <td align="middle" width="17%">8</td>
        <td align="middle" width="15%">5.8</td>
        <td align="middle" width="48%">11,034</td>
      </tr>
      <tr>
        <td align="middle" width="25%">&nbsp;</td>
        <td align="middle" width="17%">16</td>
        <td align="middle" width="15%">2.9</td>
        <td align="middle" width="48%">11,034</td>
      </tr>
      <tr>
        <td align="middle" width="25%">1,024,000</td>
        <td align="middle" width="17%">8</td>
        <td align="middle" width="15%">14.2</td>
        <td align="middle" width="48%">9,014</td>
      </tr>
      <tr>
        <td align="middle" width="25%">&nbsp;</td>
        <td align="middle" width="17%">16</td>
        <td align="middle" width="15%">7.5</td>
        <td align="middle" width="48%">8,556</td>
      </tr>
      <tr>
        <td align="middle" width="25%">8,064,000</td>
        <td align="middle" width="17%">32</td>
        <td align="middle" width="15%">54.8</td>
        <td align="middle" width="48%">4,598</td>
      </tr>
      <tr>
        <td align="middle" width="25%">&nbsp;</td>
        <td align="middle" width="17%">64</td>
        <td align="middle" width="15%">21.0</td>
        <td align="middle" width="48%">6,000</td>
      </tr>
      <tr>
        <td align="middle" width="25%">16,128,000</td>
        <td align="middle" width="17%">64</td>
        <td align="middle" width="15%">37.7</td>
        <td align="middle" width="48%">6,684</td>
      </tr>
      <tr>
        <td align="middle" width="25%"><font color="#ff0000">26,880,000</font></td>
        <td align="middle" width="17%">128</td>
        <td align="middle" width="15%">32.7</td>
        <td align="middle" width="48%">6,422</td>
      </tr>
</tbody>
    </table>
    </center></div><p>The following table compares performance on an IBM SP (with Power 2
    Super chips running at 160 MHz and two memory cards) to a cluster of 300 MHz Pentium 2
    processors connected using faster ethernet and MPICH. This is for a fixed size problem
    with 179,200 unknowns. (PETSc vector scatter options -vecscatter_merge -vecscatter_ssend).</p>
    <div align="center"><center><table border="1" width="67%">
<tbody>
      <tr>
        <th width="13%" valign="middle">Processors</th>
        <th width="34%" colspan="2" valign="middle">Matrix Vector Product<br>
        Flops</th>
        <th width="27%" colspan="2" valign="middle">Linear Solver Time</th>
        <th width="36%" colspan="2" valign="middle">Speedup</th>
      </tr>
      <tr>
        <td width="13%" align="center">&nbsp;</td>
        <td width="17%" align="center"><strong>SP</strong></td>
        <td width="17%" align="center"><strong>Cluster</strong></td>
        <td width="14%" align="center"><strong>SP</strong></td>
        <td width="13%" align="center"><strong>Cluster</strong></td>
        <td width="18%" align="center"><strong>SP</strong></td>
        <td width="18%" align="center"><strong>Cluster</strong></td>
      </tr>
      <tr>
        <td align="center" width="13%" valign="middle">1</td>
        <td width="17%" valign="middle" align="center">106</td>
        <td width="17%" valign="middle" align="center">47</td>
        <td width="14%" valign="middle" align="center">155</td>
        <td width="13%" valign="middle" align="center">364</td>
        <td width="18%" valign="middle" align="center">---</td>
        <td width="18%" valign="middle" align="center">---</td>
      </tr>
      <tr>
        <td align="center" width="13%" valign="middle">2</td>
        <td width="17%" valign="middle" align="center">198</td>
        <td width="17%" valign="middle" align="center">73</td>
        <td width="14%" valign="middle" align="center">65</td>
        <td width="13%" valign="middle" align="center">168</td>
        <td width="18%" valign="middle" align="center">2.4</td>
        <td width="18%" valign="middle" align="center">2.2</td>
      </tr>
      <tr>
        <td align="center" width="13%" valign="middle">4</td>
        <td width="17%" valign="middle" align="center">382</td>
        <td width="17%" valign="middle" align="center">137</td>
        <td width="14%" valign="middle" align="center">33</td>
        <td width="13%" valign="middle" align="center">84</td>
        <td width="18%" valign="middle" align="center">4.6 </td>
        <td width="18%" valign="middle" align="center">4.4</td>
      </tr>
      <tr>
        <td align="center" width="13%" valign="middle">8</td>
        <td width="17%" valign="middle" align="center">691 </td>
        <td width="17%" valign="middle" align="center">251</td>
        <td width="14%" valign="middle" align="center">18</td>
        <td width="13%" valign="middle" align="center">46</td>
        <td width="18%" valign="middle" align="center">8.7</td>
        <td width="18%" valign="middle" align="center">8.0</td>
      </tr>
      <tr>
        <td align="center" width="13%" valign="middle">16</td>
        <td width="17%" valign="middle" align="center">1398</td>
        <td width="17%" valign="middle" align="center">443</td>
        <td width="14%" valign="middle" align="center">10</td>
        <td width="13%" valign="middle" align="center">26</td>
        <td width="18%" valign="middle" align="center">15</td>
        <td width="18%" valign="middle" align="center">14</td>
      </tr>
    </table>
    </center></div></td>
  </tr>
  <tr align="center">
    <td width="100%" valign="top" colspan="2"><hr size="4" color="#FF5B5B">
    </td>
  </tr>
</table>
</body>
</html>
